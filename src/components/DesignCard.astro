---
import type { Design } from '../lib/types';
interface Props { design: Design; }
const { design } = Astro.props;
---
<a href={`/designs/${design.id}`} class="design-card">
  <img src={design.cover_image || `https://placehold.co/600x400/f5f5f7/6e6e73?text=${design.title}`} alt={design.title} loading="lazy" />
  <div class="overlay">
    <h3>{design.title}</h3>
    <p>{design.project_type}</p>
  </div>
</a>
<style>
  .design-card {
    display: block;
    break-inside: avoid; /* This is key for the masonry layout */
    margin-bottom: 1.5rem;
    position: relative;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    transition: transform 0.2s ease;
  }
  .design-card:hover { transform: scale(1.02); }
  img {
    width: 100%;
    display: block;
    height: auto;
  }
  .overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    padding: 2rem 1rem 1rem;
    color: #fff;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease;
  }
  .design-card:hover .overlay {
    opacity: 1;
    transform: translateY(0);
  }
  h3 { color: #fff; margin-bottom: 0.25rem; }
  p { color: rgba(255,255,255,0.8); margin: 0; }
</style>