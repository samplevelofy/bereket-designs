---
import PortfolioLayout from '../layouts/PortfolioLayout.astro'; // Use the new layout
import DesignCard from '../components/DesignCard.astro';
import { supabase } from '../lib/supabase';
import type { Design } from '../lib/types';

let designs: Design[] = [];
const { data, error } = await supabase.from('designs').select('*').order('created_at', { ascending: false });
if (data) { designs = data; }
---
<PortfolioLayout title="My Work">
  <div class="masonry-grid">
    {designs.map(design => <DesignCard design={design} />)}
  </div>
</PortfolioLayout>
<style>
  /* Note: We no longer need a separate hero section here */
  .masonry-grid {
    column-gap: 1.5rem;
    column-count: 1;
  }
  @media (min-width: 768px) { .masonry-grid { column-count: 2; } }
  @media (min-width: 1200px) { .masonry-grid { column-count: 3; } }
</style>